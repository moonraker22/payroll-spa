{"version":3,"file":"index-b9293fc7.js","sources":["../../node_modules/react-dom/client.js","../../node_modules/@chakra-ui/css-reset/dist/index.esm.js","../../node_modules/@chakra-ui/provider/dist/index.esm.js","../../node_modules/@chakra-ui/react/dist/index.esm.js","../../node_modules/date-fns/esm/startOfWeek/index.js","../../node_modules/date-fns/esm/endOfWeek/index.js","../../node_modules/date-fns/esm/isEqual/index.js","../../src/lib/utils.ts","../../src/stores/auth.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// ../../../react-shim.js\nimport React from \"react\";\n\n// src/css-reset.tsx\nimport { Global } from \"@emotion/react\";\nvar vhPolyfill = `\n  :root {\n    --chakra-vh: 100vh;\n  }\n\n  @supports (height: -webkit-fill-available) {\n    :root {\n      --chakra-vh: -webkit-fill-available;\n    }\n  }\n\n  @supports (height: -moz-fill-available) {\n    :root {\n      --chakra-vh: -moz-fill-available;\n    }\n  }\n\n  @supports (height: 100dvh) {\n    :root {\n      --chakra-vh: 100dvh;\n    }\n  }\n`;\nvar CSSPolyfill = () => /* @__PURE__ */ React.createElement(Global, {\n  styles: vhPolyfill\n});\nvar CSSReset = () => /* @__PURE__ */ React.createElement(Global, {\n  styles: `\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        font-feature-settings: 'kern';\n      }\n\n      *,\n      *::before,\n      *::after {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n      }\n\n      main {\n        display: block;\n      }\n\n      hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      pre,\n      code,\n      kbd,\n      samp {\n        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      b,\n      strong {\n        font-weight: bold;\n      }\n\n      small {\n        font-size: 80%;\n      }\n\n      sub,\n      sup {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      sub {\n        bottom: -0.25em;\n      }\n\n      sup {\n        top: -0.5em;\n      }\n\n      img {\n        border-style: none;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      button,\n      input {\n        overflow: visible;\n      }\n\n      button,\n      select {\n        text-transform: none;\n      }\n\n      button::-moz-focus-inner,\n      [type=\"button\"]::-moz-focus-inner,\n      [type=\"reset\"]::-moz-focus-inner,\n      [type=\"submit\"]::-moz-focus-inner {\n        border-style: none;\n        padding: 0;\n      }\n\n      fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      progress {\n        vertical-align: baseline;\n      }\n\n      textarea {\n        overflow: auto;\n      }\n\n      [type=\"checkbox\"],\n      [type=\"radio\"] {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      [type=\"number\"]::-webkit-inner-spin-button,\n      [type=\"number\"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      input[type=\"number\"] {\n        -moz-appearance: textfield;\n      }\n\n      [type=\"search\"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      [type=\"search\"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      details {\n        display: block;\n      }\n\n      summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      body,\n      blockquote,\n      dl,\n      dd,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      hr,\n      figure,\n      p,\n      pre {\n        margin: 0;\n      }\n\n      button {\n        background: transparent;\n        padding: 0;\n      }\n\n      fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      ol,\n      ul {\n        margin: 0;\n        padding: 0;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      button,\n      [role=\"button\"] {\n        cursor: pointer;\n      }\n\n      button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      table {\n        border-collapse: collapse;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      img,\n      svg,\n      video,\n      canvas,\n      audio,\n      iframe,\n      embed,\n      object {\n        display: block;\n      }\n\n      img,\n      video {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      select::-ms-expand {\n        display: none;\n      }\n\n      ${vhPolyfill}\n    `\n});\nvar css_reset_default = CSSReset;\nexport {\n  CSSPolyfill,\n  CSSReset,\n  css_reset_default as default\n};\n","// ../../../react-shim.js\nimport React from \"react\";\n\n// src/chakra-provider.tsx\nimport { CSSReset, CSSPolyfill } from \"@chakra-ui/css-reset\";\nimport { PortalManager } from \"@chakra-ui/portal\";\nimport {\n  ColorModeProvider,\n  GlobalStyle,\n  ThemeProvider\n} from \"@chakra-ui/system\";\nimport {\n  EnvironmentProvider\n} from \"@chakra-ui/react-env\";\nvar ChakraProvider = (props) => {\n  const {\n    children,\n    colorModeManager,\n    portalZIndex,\n    resetCSS = true,\n    theme = {},\n    environment,\n    cssVarsRoot\n  } = props;\n  const _children = /* @__PURE__ */ React.createElement(EnvironmentProvider, {\n    environment\n  }, children);\n  return /* @__PURE__ */ React.createElement(ThemeProvider, {\n    theme,\n    cssVarsRoot\n  }, /* @__PURE__ */ React.createElement(ColorModeProvider, {\n    colorModeManager,\n    options: theme.config\n  }, resetCSS ? /* @__PURE__ */ React.createElement(CSSReset, null) : /* @__PURE__ */ React.createElement(CSSPolyfill, null), /* @__PURE__ */ React.createElement(GlobalStyle, null), portalZIndex ? /* @__PURE__ */ React.createElement(PortalManager, {\n    zIndex: portalZIndex\n  }, _children) : _children));\n};\nexport {\n  ChakraProvider\n};\n","// ../../../react-shim.js\nimport React from \"react\";\n\n// src/index.ts\nexport * from \"@chakra-ui/accordion\";\nexport * from \"@chakra-ui/alert\";\nexport * from \"@chakra-ui/avatar\";\nexport * from \"@chakra-ui/breadcrumb\";\nexport * from \"@chakra-ui/button\";\nexport * from \"@chakra-ui/card\";\nexport * from \"@chakra-ui/checkbox\";\nexport * from \"@chakra-ui/close-button\";\nexport * from \"@chakra-ui/control-box\";\nexport * from \"@chakra-ui/counter\";\nexport * from \"@chakra-ui/css-reset\";\nexport * from \"@chakra-ui/editable\";\nexport * from \"@chakra-ui/form-control\";\nexport * from \"@chakra-ui/hooks\";\nexport * from \"@chakra-ui/icon\";\nexport * from \"@chakra-ui/image\";\nexport * from \"@chakra-ui/input\";\nexport * from \"@chakra-ui/layout\";\nexport * from \"@chakra-ui/media-query\";\nexport * from \"@chakra-ui/menu\";\nexport * from \"@chakra-ui/modal\";\nexport * from \"@chakra-ui/number-input\";\nexport * from \"@chakra-ui/pin-input\";\nexport * from \"@chakra-ui/popover\";\nexport * from \"@chakra-ui/popper\";\nexport * from \"@chakra-ui/portal\";\nexport * from \"@chakra-ui/progress\";\nexport * from \"@chakra-ui/radio\";\nexport * from \"@chakra-ui/react-env\";\nexport * from \"@chakra-ui/select\";\nexport * from \"@chakra-ui/skeleton\";\nexport * from \"@chakra-ui/slider\";\nexport * from \"@chakra-ui/spinner\";\nexport * from \"@chakra-ui/stat\";\nexport * from \"@chakra-ui/switch\";\nexport * from \"@chakra-ui/system\";\nexport * from \"@chakra-ui/table\";\nexport * from \"@chakra-ui/tabs\";\nexport * from \"@chakra-ui/tag\";\nexport * from \"@chakra-ui/textarea\";\nexport * from \"@chakra-ui/theme\";\nexport * from \"@chakra-ui/toast\";\nexport * from \"@chakra-ui/tooltip\";\nexport * from \"@chakra-ui/transition\";\nexport * from \"@chakra-ui/visually-hidden\";\nexport * from \"@chakra-ui/theme-utils\";\n\n// src/chakra-provider.tsx\nimport {\n  ChakraProvider as BaseChakraProvider\n} from \"@chakra-ui/provider\";\nimport { theme as defaultTheme, baseTheme } from \"@chakra-ui/theme\";\nimport { ToastProvider } from \"@chakra-ui/toast\";\nvar createChakraProvider = (providerTheme) => {\n  return function ChakraProvider2({\n    children,\n    theme = providerTheme,\n    toastOptions,\n    ...restProps\n  }) {\n    return /* @__PURE__ */ React.createElement(BaseChakraProvider, {\n      theme,\n      ...restProps\n    }, children, /* @__PURE__ */ React.createElement(ToastProvider, {\n      ...toastOptions\n    }));\n  };\n};\nvar ChakraProvider = createChakraProvider(defaultTheme);\nvar ChakraBaseProvider = createChakraProvider(baseTheme);\nexport {\n  ChakraBaseProvider,\n  ChakraProvider\n};\n","import toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the start of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function startOfWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setDate(date.getDate() - diff);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n\n/**\n * @name endOfWeek\n * @category Week Helpers\n * @summary Return the end of a week for the given date.\n *\n * @description\n * Return the end of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the end of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The end of a week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sat Sep 06 2014 23:59:59.999\n *\n * @example\n * // If the week starts on Monday, the end of the week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nexport default function endOfWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);\n  date.setDate(date.getDate() + diff);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isEqual\n * @category Common Helpers\n * @summary Are the given dates equal?\n *\n * @description\n * Are the given dates equal?\n *\n * @param {Date|Number} dateLeft - the first date to compare\n * @param {Date|Number} dateRight - the second date to compare\n * @returns {Boolean} the dates are equal\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 2 July 2014 06:30:45.000 and 2 July 2014 06:30:45.500 equal?\n * const result = isEqual(\n *   new Date(2014, 6, 2, 6, 30, 45, 0),\n *   new Date(2014, 6, 2, 6, 30, 45, 500)\n * )\n * //=> false\n */\n\nexport default function isEqual(dirtyLeftDate, dirtyRightDate) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyLeftDate);\n  var dateRight = toDate(dirtyRightDate);\n  return dateLeft.getTime() === dateRight.getTime();\n}","import { PaysheetType, WeeksType } from '@/stores/store'\nimport currency from 'currency.js'\nimport { endOfWeek, isEqual, startOfWeek, toDate } from 'date-fns'\n\nfunction getWeeklyTotals(array: PaysheetType[]): WeeksType[] {\n  const weeklyTotals: any = []\n  array.forEach((object) => {\n    const weekStart = startOfWeek(toDate(object.date))\n    const weekEnd = endOfWeek(toDate(object.date))\n\n    const existingTotal = weeklyTotals.find(\n      (total: any) =>\n        isEqual(total.weekStart, weekStart) && isEqual(total.weekEnd, weekEnd)\n    )\n    if (existingTotal) {\n      existingTotal.backhaul += object.backhaul\n      existingTotal.endingMiles += object.endingMiles\n      existingTotal.payMiles += object.payMiles\n      existingTotal.startingMiles += object.startingMiles\n      existingTotal.totalMiles += object.totalMiles\n      existingTotal.finalMiles += computeFinalMiles({\n        totalMiles: object.totalMiles,\n        payMiles: object.payMiles,\n      })\n      existingTotal.totalPay += Number(\n        computePay({\n          totalMiles: object.totalMiles,\n          payMiles: object.payMiles,\n          backhaul: object.backhaul,\n        })\n      )\n    } else {\n      weeklyTotals.push({\n        weekStart: weekStart,\n        weekEnd: weekEnd,\n        backhaul: object.backhaul,\n        endingMiles: object.endingMiles,\n        payMiles: object.payMiles,\n        startingMiles: object.startingMiles,\n        totalMiles: object.totalMiles,\n        finalMiles: computeFinalMiles({\n          totalMiles: object.totalMiles,\n          payMiles: object.payMiles,\n        }),\n        totalPay: Number(\n          computePay({\n            totalMiles: object.totalMiles,\n            payMiles: object.payMiles,\n            backhaul: object.backhaul,\n          })\n        ),\n      })\n    }\n  })\n  return weeklyTotals\n}\n\nexport function computePay({\n  totalMiles,\n  payMiles,\n  backhaul = 0,\n}: {\n  totalMiles: number\n  payMiles: number\n  backhaul?: number\n}): currency {\n  if (totalMiles > payMiles) {\n    return currency(totalMiles, { precision: 2 }).multiply(0.515).add(backhaul)\n  } else {\n    return currency(payMiles, { precision: 2 }).multiply(0.515).add(backhaul)\n  }\n}\n\nexport function computeFinalMiles({\n  totalMiles,\n  payMiles,\n}: {\n  totalMiles: number\n  payMiles: number\n}): number {\n  if (totalMiles > payMiles) {\n    return totalMiles\n  } else {\n    return payMiles\n  }\n}\n\n// function sortWeeklyTotals(array: WeeklyTotalsType[]): void {\n//   array.sort((a, b) => {\n//     return a.weekStart - b.weekStart\n//   })\n// }\n\nconst promiseWrapper = (fn: (...args: any) => any) => {\n  return (...args: any) =>\n    new Promise(async (resolve, reject) => {\n      try {\n        const response = await fn(...args)\n        resolve(response)\n      } catch (error) {\n        reject(error)\n      }\n    })\n}\n\nexport {\n  getWeeklyTotals,\n  endOfWeek,\n  startOfWeek,\n  toDate,\n  isEqual,\n  promiseWrapper,\n}\n","import { auth, db } from '@/firebase'\nimport { COLLECTIONS } from '@/lib/constants'\nimport { getWeeklyTotals } from '@/lib/utils'\nimport {\n  NextOrObserver,\n  onAuthStateChanged,\n  signOut as authSignOut,\n  User,\n} from 'firebase/auth'\nimport {\n  collection,\n  doc,\n  getDoc,\n  onSnapshot,\n  orderBy,\n  query,\n} from 'firebase/firestore'\nimport { createContext, useContext, useEffect, useState } from 'react'\nimport { PaysheetType, storeActions } from './store'\n\nexport default function useFirebaseAuth() {\n  const [authUser, setAuthUser] = useState<{\n    uid: string\n    email: string\n  } | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [isSignedIn, setIsSignedIn] = useState(false) // Local signed-in state.\n\n  const clear = () => {\n    setAuthUser(null)\n    setIsLoading(false)\n    setIsSignedIn(false)\n    storeActions.clear()\n  }\n\n  const authStateChanged: NextOrObserver<User> | null = async (user) => {\n    setIsLoading(true)\n    if (!user) {\n      clear()\n      return\n    }\n\n    if (user.isAnonymous) {\n      clear()\n      return\n    }\n\n    if (user.email) {\n      setAuthUser({\n        uid: user.uid,\n        email: user.email,\n      })\n      storeActions.setUserEmail(user.email)\n    }\n\n    const ref = doc(db, 'users', `${user.uid}`)\n    const docSnap = await getDoc(ref)\n    storeActions.setAvatar(docSnap.data()?.avatar || user.photoURL)\n    storeActions.setIsSignedIn(true)\n    storeActions.setUserId(user.uid)\n    if (user?.email) setIsSignedIn(user !== null)\n    setIsLoading(false)\n  }\n\n  /**\n   * Get paysheets from firestore and put into global store\n   */\n  useEffect(() => {\n    if (!isSignedIn) return\n    if (authUser === null) return\n    if (authUser.uid !== null) {\n      const q = query(\n        collection(\n          db,\n          COLLECTIONS.USERS,\n          `${authUser.uid}`,\n          `${COLLECTIONS.PAYSHEETS}`\n        ),\n        orderBy('date', 'desc')\n      )\n\n      const unsubscribe = onSnapshot(q, (querySnapshot) => {\n        const data: PaysheetType[] = querySnapshot.docs.map((doc) => ({\n          uid: doc.id,\n          startingMiles: doc.data().startingMiles,\n          endingMiles: doc.data().endingMiles,\n          date: doc.data().date,\n          totalMiles: doc.data().totalMiles,\n          payMiles: doc.data().payMiles,\n          backhaul: doc.data().backhaul,\n        }))\n        storeActions.setPaysheets(data)\n        const weeks = getWeeklyTotals(data)\n        storeActions.setWeeks(weeks)\n      })\n      return () => unsubscribe()\n    }\n  }, [isSignedIn, authUser])\n\n  // Sign out\n  const signOut = () => authSignOut(auth).then(clear)\n\n  // Listen for Firebase Auth state change\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, authStateChanged)\n    return () => unsubscribe()\n  }, [])\n\n  return {\n    authUser,\n    isLoading,\n    isSignedIn,\n    signOut,\n  }\n}\n\nconst AuthUserContext = createContext({\n  authUser: null as any,\n  isLoading: true,\n  isSignedIn: false,\n  signOut: async () => {},\n})\n\nexport function AuthUserProvider({ children }: { children: React.ReactNode }) {\n  const auth = useFirebaseAuth()\n  return (\n    <AuthUserContext.Provider value={auth}>{children}</AuthUserContext.Provider>\n  )\n}\n\nexport const useFireAuth = () => useContext(AuthUserContext)\n","import router from '@/layout/routes'\nimport { ChakraProvider } from '@chakra-ui/react'\nimport '@fontsource/roboto/400.css'\nimport '@fontsource/ubuntu/400.css'\nimport { RouterProvider } from 'react-router-dom'\nimport './App.css'\nimport theme from './layout/theme'\nimport { AuthUserProvider } from './stores/auth'\n\nfunction App() {\n  return (\n    <ChakraProvider theme={theme}>\n      <AuthUserProvider>\n        <RouterProvider router={router} />\n      </AuthUserProvider>\n    </ChakraProvider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\n\nimport App from './App'\nimport './index.css'\n\nconst container = document.getElementById('root') as HTMLElement\nif (!container) throw new Error('Failed to find the root element')\nconst root = ReactDOM.createRoot(container)\n\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n)\n"],"names":["m","require$$0","client","vhPolyfill","CSSPolyfill","React","Global","CSSReset","ChakraProvider","props","children","colorModeManager","portalZIndex","resetCSS","theme","environment","cssVarsRoot","_children","EnvironmentProvider","ThemeProvider","ColorModeProvider","GlobalStyle","PortalManager","createChakraProvider","providerTheme","toastOptions","restProps","BaseChakraProvider","ToastProvider","defaultTheme","startOfWeek","dirtyDate","options","_ref","_ref2","_ref3","_options$weekStartsOn","_options$locale","_options$locale$optio","_defaultOptions$local","_defaultOptions$local2","requiredArgs","defaultOptions","getDefaultOptions","weekStartsOn","toInteger","date","toDate","day","diff","endOfWeek","isEqual","dirtyLeftDate","dirtyRightDate","dateLeft","dateRight","getWeeklyTotals","array","weeklyTotals","object","weekStart","weekEnd","existingTotal","total","computeFinalMiles","computePay","totalMiles","payMiles","backhaul","currency","useFirebaseAuth","authUser","setAuthUser","useState","isLoading","setIsLoading","isSignedIn","setIsSignedIn","clear","storeActions","authStateChanged","user","ref","doc","db","docSnap","getDoc","_a","useEffect","q","query","collection","COLLECTIONS","orderBy","unsubscribe","onSnapshot","querySnapshot","data","weeks","signOut","authSignOut","auth","onAuthStateChanged","AuthUserContext","createContext","AuthUserProvider","App","jsx","RouterProvider","router","container","root","ReactDOM"],"mappings":"20CAEIA,EAAIC,EAAAA,QAEYC,EAAA,WAAGF,EAAE,WACJE,EAAA,YAAGF,EAAE,YCA1B,IAAIG,EAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAuBbC,GAAc,IAAsBC,EAAM,cAAcC,EAAQ,CAClE,OAAQH,CACV,CAAC,EACGI,GAAW,IAAsBF,EAAM,cAAcC,EAAQ,CAC/D,OAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAqRFH;AAAA,KAER,CAAC,ECzSGK,GAAkBC,GAAU,CAC9B,KAAM,CACJ,SAAAC,EACA,iBAAAC,EACA,aAAAC,EACA,SAAAC,EAAW,GACX,MAAAC,EAAQ,CAAE,EACV,YAAAC,EACA,YAAAC,CACD,EAAGP,EACEQ,EAA4BZ,EAAM,cAAca,EAAqB,CACzE,YAAAH,CACD,EAAEL,CAAQ,EACX,OAAuBL,EAAM,cAAcc,EAAe,CACxD,MAAAL,EACA,YAAAE,CACJ,EAAqBX,EAAM,cAAce,EAAmB,CACxD,iBAAAT,EACA,QAASG,EAAM,MACnB,EAAKD,EAA2BR,EAAM,cAAcE,GAAU,IAAI,EAAoBF,EAAM,cAAcD,GAAa,IAAI,EAAmBC,EAAM,cAAcgB,EAAa,IAAI,EAAGT,EAA+BP,EAAM,cAAciB,EAAe,CACpP,OAAQV,CACZ,EAAKK,CAAS,EAAIA,CAAS,CAAC,CAC5B,ECqBIM,GAAwBC,GACnB,SAAyB,CAC9B,SAAAd,EACA,MAAAI,EAAQU,EACR,aAAAC,KACGC,CACP,EAAK,CACD,OAAuBrB,EAAM,cAAcsB,GAAoB,CAC7D,MAAAb,EACA,GAAGY,CACJ,EAAEhB,EAA0BL,EAAM,cAAcuB,EAAe,CAC9D,GAAGH,CACJ,CAAA,CAAC,CACN,EAEIjB,GAAiBe,GAAqBM,CAAY,ECxCvC,SAASC,GAAYC,EAAWC,EAAS,CACtD,IAAIC,EAAMC,EAAOC,EAAOC,EAAuBC,EAAiBC,EAAuBC,EAAuBC,EAE9GC,EAAa,EAAG,SAAS,EACzB,IAAIC,EAAiBC,IACjBC,EAAeC,GAAWZ,GAAQC,GAASC,GAASC,EAAwBJ,GAAY,KAA6B,OAASA,EAAQ,gBAAkB,MAAQI,IAA0B,OAASA,EAAwBJ,GAAY,OAAuCK,EAAkBL,EAAQ,UAAY,MAAQK,IAAoB,SAAmBC,EAAwBD,EAAgB,WAAa,MAAQC,IAA0B,OAAtL,OAAwMA,EAAsB,gBAAkB,MAAQH,IAAU,OAASA,EAAQO,EAAe,gBAAkB,MAAQR,IAAU,OAASA,GAASK,EAAwBG,EAAe,UAAY,MAAQH,IAA0B,SAAmBC,EAAyBD,EAAsB,WAAa,MAAQC,IAA2B,OAAzG,OAA2HA,EAAuB,gBAAkB,MAAQP,IAAS,OAASA,EAAO,CAAC,EAEp4B,GAAI,EAAEW,GAAgB,GAAKA,GAAgB,GACzC,MAAM,IAAI,WAAW,kDAAkD,EAGzE,IAAIE,EAAOC,EAAOhB,CAAS,EACvBiB,EAAMF,EAAK,SACXG,GAAQD,EAAMJ,EAAe,EAAI,GAAKI,EAAMJ,EAChD,OAAAE,EAAK,QAAQA,EAAK,QAAS,EAAGG,CAAI,EAClCH,EAAK,SAAS,EAAG,EAAG,EAAG,CAAC,EACjBA,CACT,CCjBe,SAASI,GAAUnB,EAAWC,EAAS,CACpD,IAAIC,EAAMC,EAAOC,EAAOC,EAAuBC,EAAiBC,EAAuBC,EAAuBC,EAE9GC,EAAa,EAAG,SAAS,EACzB,IAAIC,EAAiBC,IACjBC,EAAeC,GAAWZ,GAAQC,GAASC,GAASC,EAAwBJ,GAAY,KAA6B,OAASA,EAAQ,gBAAkB,MAAQI,IAA0B,OAASA,EAAwBJ,GAAY,OAAuCK,EAAkBL,EAAQ,UAAY,MAAQK,IAAoB,SAAmBC,EAAwBD,EAAgB,WAAa,MAAQC,IAA0B,OAAtL,OAAwMA,EAAsB,gBAAkB,MAAQH,IAAU,OAASA,EAAQO,EAAe,gBAAkB,MAAQR,IAAU,OAASA,GAASK,EAAwBG,EAAe,UAAY,MAAQH,IAA0B,SAAmBC,EAAyBD,EAAsB,WAAa,MAAQC,IAA2B,OAAzG,OAA2HA,EAAuB,gBAAkB,MAAQP,IAAS,OAASA,EAAO,CAAC,EAEp4B,GAAI,EAAEW,GAAgB,GAAKA,GAAgB,GACzC,MAAM,IAAI,WAAW,kDAAkD,EAGzE,IAAIE,EAAOC,EAAOhB,CAAS,EACvBiB,EAAMF,EAAK,SACXG,GAAQD,EAAMJ,EAAe,GAAK,GAAK,GAAKI,EAAMJ,GACtD,OAAAE,EAAK,QAAQA,EAAK,QAAS,EAAGG,CAAI,EAClCH,EAAK,SAAS,GAAI,GAAI,GAAI,GAAG,EACtBA,CACT,CCzBe,SAASK,EAAQC,EAAeC,EAAgB,CAC7DZ,EAAa,EAAG,SAAS,EACzB,IAAIa,EAAWP,EAAOK,CAAa,EAC/BG,EAAYR,EAAOM,CAAc,EACrC,OAAOC,EAAS,QAAO,IAAOC,EAAU,QAAO,CACjD,CCzBA,SAASC,GAAgBC,EAAoC,CAC3D,MAAMC,EAAoB,CAAA,EACpB,OAAAD,EAAA,QAASE,GAAW,CACxB,MAAMC,EAAY9B,GAAYiB,EAAOY,EAAO,IAAI,CAAC,EAC3CE,EAAUX,GAAUH,EAAOY,EAAO,IAAI,CAAC,EAEvCG,EAAgBJ,EAAa,KAChCK,GACCZ,EAAQY,EAAM,UAAWH,CAAS,GAAKT,EAAQY,EAAM,QAASF,CAAO,CAAA,EAErEC,GACFA,EAAc,UAAYH,EAAO,SACjCG,EAAc,aAAeH,EAAO,YACpCG,EAAc,UAAYH,EAAO,SACjCG,EAAc,eAAiBH,EAAO,cACtCG,EAAc,YAAcH,EAAO,WACnCG,EAAc,YAAcE,EAAkB,CAC5C,WAAYL,EAAO,WACnB,SAAUA,EAAO,QAAA,CAClB,EACDG,EAAc,UAAY,OACxBG,EAAW,CACT,WAAYN,EAAO,WACnB,SAAUA,EAAO,SACjB,SAAUA,EAAO,QAAA,CAClB,CAAA,GAGHD,EAAa,KAAK,CAChB,UAAAE,EACA,QAAAC,EACA,SAAUF,EAAO,SACjB,YAAaA,EAAO,YACpB,SAAUA,EAAO,SACjB,cAAeA,EAAO,cACtB,WAAYA,EAAO,WACnB,WAAYK,EAAkB,CAC5B,WAAYL,EAAO,WACnB,SAAUA,EAAO,QAAA,CAClB,EACD,SAAU,OACRM,EAAW,CACT,WAAYN,EAAO,WACnB,SAAUA,EAAO,SACjB,SAAUA,EAAO,QAAA,CAClB,CACH,CAAA,CACD,CACH,CACD,EACMD,CACT,CAEO,SAASO,EAAW,CACzB,WAAAC,EACA,SAAAC,EACA,SAAAC,EAAW,CACb,EAIa,CACX,OAAIF,EAAaC,EACRE,EAASH,EAAY,CAAE,UAAW,CAAA,CAAG,EAAE,SAAS,IAAK,EAAE,IAAIE,CAAQ,EAEnEC,EAASF,EAAU,CAAE,UAAW,CAAA,CAAG,EAAE,SAAS,IAAK,EAAE,IAAIC,CAAQ,CAE5E,CAEO,SAASJ,EAAkB,CAChC,WAAAE,EACA,SAAAC,CACF,EAGW,CACT,OAAID,EAAaC,EACRD,EAEAC,CAEX,CCjEA,SAAwBG,IAAkB,CACxC,KAAM,CAACC,EAAUC,CAAW,EAAIC,mBAGtB,IAAI,EACR,CAACC,EAAWC,CAAY,EAAIF,mBAAS,EAAI,EACzC,CAACG,EAAYC,CAAa,EAAIJ,mBAAS,EAAK,EAE5CK,EAAQ,IAAM,CAClBN,EAAY,IAAI,EAChBG,EAAa,EAAK,EAClBE,EAAc,EAAK,EACnBE,EAAa,MAAM,CAAA,EAGfC,EAAgD,MAAOC,GAAS,OAEpE,GADAN,EAAa,EAAI,EACb,CAACM,EAAM,CACHH,IACN,MACF,CAEA,GAAIG,EAAK,YAAa,CACdH,IACN,MACF,CAEIG,EAAK,QACKT,EAAA,CACV,IAAKS,EAAK,IACV,MAAOA,EAAK,KAAA,CACb,EACYF,EAAA,aAAaE,EAAK,KAAK,GAGtC,MAAMC,EAAMC,EAAIC,EAAI,QAAS,GAAGH,EAAK,KAAK,EACpCI,EAAU,MAAMC,EAAOJ,CAAG,EAChCH,EAAa,YAAUQ,EAAAF,EAAQ,KAAQ,IAAhB,YAAAE,EAAgB,SAAUN,EAAK,QAAQ,EAC9DF,EAAa,cAAc,EAAI,EAClBA,EAAA,UAAUE,EAAK,GAAG,EAC3BA,GAAA,MAAAA,EAAM,OAAOJ,EAAcI,IAAS,IAAI,EAC5CN,EAAa,EAAK,CAAA,EAMpBa,EAAAA,QAAAA,UAAU,IAAM,CACd,GAAKZ,GACDL,IAAa,MACbA,EAAS,MAAQ,KAAM,CACzB,MAAMkB,EAAIC,EACRC,EACEP,EACAQ,EAAY,MACZ,GAAGrB,EAAS,MACZ,GAAGqB,EAAY,WACjB,EACAC,EAAQ,OAAQ,MAAM,CAAA,EAGlBC,EAAcC,EAAWN,EAAIO,GAAkB,CACnD,MAAMC,EAAuBD,EAAc,KAAK,IAAKb,IAAS,CAC5D,IAAKA,EAAI,GACT,cAAeA,EAAI,KAAA,EAAO,cAC1B,YAAaA,EAAI,KAAA,EAAO,YACxB,KAAMA,EAAI,KAAA,EAAO,KACjB,WAAYA,EAAI,KAAA,EAAO,WACvB,SAAUA,EAAI,KAAA,EAAO,SACrB,SAAUA,EAAI,KAAA,EAAO,QACrB,EAAA,EACFJ,EAAa,aAAakB,CAAI,EACxB,MAAAC,EAAQ1C,GAAgByC,CAAI,EAClClB,EAAa,SAASmB,CAAK,CAAA,CAC5B,EACD,MAAO,IAAMJ,EAAY,CAC3B,CAAA,EACC,CAAClB,EAAYL,CAAQ,CAAC,EAGzB,MAAM4B,EAAU,IAAMC,EAAYC,CAAI,EAAE,KAAKvB,CAAK,EAGlDU,OAAAA,EAAAA,QAAAA,UAAU,IAAM,CACR,MAAAM,EAAcQ,EAAmBD,EAAMrB,CAAgB,EAC7D,MAAO,IAAMc,EAAY,CAC3B,EAAG,CAAE,CAAA,EAEE,CACL,SAAAvB,EACA,UAAAG,EACA,WAAAE,EAAA,QACAuB,CAAA,CAEJ,CAEA,MAAMI,GAAkBC,EAAAA,QAAAA,cAAc,CACpC,SAAU,KACV,UAAW,GACX,WAAY,GACZ,QAAS,SAAY,CAAC,CACxB,CAAC,EAEe,SAAAC,GAAiB,CAAE,SAAA/F,GAA2C,CAC5E,MAAM2F,EAAO/B,KACb,SACGiC,GAAgB,SAAhB,CAAyB,MAAOF,EAAO,SAAA3F,CAAS,CAAA,CAErD,CCvHA,SAASgG,IAAM,CAEX,OAAAC,EAACnG,UAAeM,EACd,SAAA6F,EAACF,IACC,SAACE,EAAAC,EAAA,CAAe,OAAAC,CAAgB,CAAA,CAAA,CAClC,CACF,CAAA,CAEJ,CCXA,MAAMC,EAAY,SAAS,eAAe,MAAM,EAChD,GAAI,CAACA,EAAiB,MAAA,IAAI,MAAM,iCAAiC,EACjE,MAAMC,GAAOC,EAAS,WAAWF,CAAS,EAE1CC,GAAK,SACF1G,EAAM,WAAN,CACC,SAAAsG,EAACD,IAAI,CAAA,EACP,CACF"}