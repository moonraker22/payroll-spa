import{S as Y,f as P,o as $,n as J,R as k,d as M,B as S,j as e,M as _,D as i,F as v,r as y,Q as K,I as U,v as W}from"./index.esm-5bedf466.js";import{S as X}from"./SpinnerComp-c51f0e5b.js";import{u as z}from"./store-105db165.js";import{b as Z}from"./index.esm-d2413adf.js";import{T as ee}from"./index.esm-57eb12aa.js";import{u as te,s as ae,D as re,F as oe,I as ne,a as ie,b as se}from"./zod.module-0c2f3d95.js";import{G as w}from"./iconBase-99aaca23.js";import{c as G}from"./currency.es-57f74176.js";import{f as R}from"./index-0872f226.js";import{e as le,f as ce,C as x,b as I,B as A,F as de,h as he,G as O,a as ue,T as me,L as ge,S as pe,D as ye}from"./index.esm-80b5a022.js";import{g as fe,i as ve,j as B,k as p,l as xe,m as be,n as Se,M as ke,o as we,c as Ce,d as Pe,e as Me,L as De}from"./index.esm-349ba63c.js";import{a as D,B as Fe,I as C}from"./index.esm-13c06ba6.js";import{t as N}from"./index-9ba3ed2e.js";import{r as Le}from"./index-75959897.js";import{u as Te}from"./index.esm-36b4b751.js";import{m as E}from"./motion-91c60b2e.js";import{A as Be,a as Ne,V as _e,I as Ie}from"./index.esm-73c5b7a7.js";import"./index.esm-3d7316f0.js";import"./index-b31f775c.js";import"./index.esm-2be1a8a4.js";import"./index.esm-d6abb1fb.js";var F=(...t)=>t.filter(Boolean).join(" "),[Ee,j]=Y("Card"),ze=P(function(a,n){const{className:r,children:l,direction:s="column",justify:d,align:c,...u}=$(a),h=J("Card",a);return k.createElement(M.div,{ref:n,className:F("chakra-card",r),__css:{display:"flex",flexDirection:s,justifyContent:d,alignItems:c,position:"relative",minWidth:0,wordWrap:"break-word",...h.container},...u},k.createElement(Ee,{value:h},l))}),Ae=P(function(a,n){const{className:r,...l}=a,s=j();return k.createElement(M.div,{ref:n,className:F("chakra-card__body",r),__css:s.body,...l})});P(function(a,n){const{className:r,justify:l,...s}=a,d=j();return k.createElement(M.div,{ref:n,className:F("chakra-card__footer",r),__css:{display:"flex",justifyContent:l,...d.footer},...s})});P(function(a,n){const{className:r,...l}=a,s=j();return k.createElement(M.div,{ref:n,className:F("chakra-card__header",r),__css:s.header,...l})});function je(t,a){Le(2,arguments);var n=N(t).getTime(),r=N(a.start).getTime(),l=N(a.end).getTime();if(!(r<=l))throw new RangeError("Invalid interval");return n>=r&&n<=l}function He(t){return w({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 120h480v48H16zm80 112h320v48H96zm96 112h128v48H192z"}}]})(t)}function V({totalMiles:t,totalPay:a,backhaul:n,weekStart:r,weekEnd:l}){const s=S("gray.200","gray.800"),d=new Date(Number(r)),c=new Date(Number(l)),u=R(d,"MM/dd/yyyy"),h=R(c,"MM/dd/yyyy"),f=S("gray","cyan.600"),o=S("blackAlpha","cyan");return e(le,{children:e(ce,{as:_,to:"/weekly",state:{weekStartFormat:u,weekEndFormat:h,startDate:d,endDate:c},sx:{textDecoration:"none"},children:e(ze,{my:{base:"5px",sm:"10px",lg:"20px"},mx:{base:"10px",sm:"20px",lg:"40px"},bg:s,border:"1px",borderColor:f,px:{base:"0px",sm:"10px",lg:"10px"},boxShadow:"xl",rounded:20,variant:"elevated",children:i(Ae,{children:[e(x,{children:i(I,{size:"xs",children:["Dates: ",u," - ",h]})}),i(fe,{variant:"simple",colorScheme:o,size:{base:"sm",sm:"md",lg:"lg"},children:[e(ve,{children:i(B,{children:[e(p,{isNumeric:!0,children:"Total "}),e(p,{isNumeric:!0,children:"Total "}),e(p,{isNumeric:!0,children:"Total "})]})}),e(xe,{children:i(B,{children:[e(p,{isNumeric:!0,children:t}),e(p,{isNumeric:!0,children:G(a).format()}),e(p,{isNumeric:!0,children:G(n).format()})]})}),e(be,{children:i(B,{children:[e(p,{isNumeric:!0,children:" Miles"}),e(p,{isNumeric:!0,children:" Pay"}),e(p,{isNumeric:!0,children:" Backhaul"})]})})]})]})})})})}function We({filterDate:t,isOpen:a,onClose:n}){return e(v,{children:i(Se,{isOpen:a,onClose:n,size:"xl",variant:"floating",children:[e(ke,{}),i(we,{children:[e(Ce,{}),i(Pe,{children:[t&&(t==null?void 0:t.map((r,l)=>e("div",{children:e(V,{totalMiles:r.totalMiles,totalPay:r.totalPay,backhaul:r.backhaul,weekStart:Date.parse(r==null?void 0:r.weekStart).toString(),weekEnd:Date.parse(r==null?void 0:r.weekEnd).toString()})},l))),t.length===0&&e(A,{children:"No data for this week"})]}),e(Me,{children:e(D,{colorScheme:"cyan",type:"submit",variant:"outline",_hover:{bg:"cyan.600",color:"white",scale:1.1},mr:3,onClick:n,children:"Close"})})]})]})})}function Ge(){var H;const t=z(),a=S("gray.800","gray"),[n,r]=y.exports.useState([]),{isOpen:l,onOpen:s,onClose:d}=Te(),{register:c,handleSubmit:u,formState:{isSubmitting:h,isDirty:f,errors:o,isValid:g,touchedFields:q}}=te({resolver:ae(re)});function m(L){b(L.date),s()}const b=y.exports.useCallback(L=>{const Q=t.weeks.filter(T=>{if(je(new Date(L),{start:new Date(T.weekStart),end:new Date(T.weekEnd)}))return T});r(Q)},[t.weeks]);return i(v,{children:[e(K,{onSubmit:u(m),children:e(x,{children:i(de,{px:"5",w:"90%",children:[i(oe,{isInvalid:!!o.date,isRequired:!0,variant:"floating",children:[e(ne,{type:"date",...c("date"),placeholder:"Date",mb:"3",_placeholder:{color:a},boxShadow:"lg"}),e(ie,{children:"Search Date"}),e(se,{children:o.date&&((H=o.date)==null?void 0:H.message)})]}),e(D,{ml:"5",colorScheme:"cyan",isLoading:h,type:"submit",disabled:!f||!g,loadingText:"Submitting",variant:"outline",_hover:{bg:"cyan.600",color:"white",scale:1.1},boxShadow:"lg",rightIcon:e(He,{}),children:"Filter"})]})})}),e(We,{filterDate:n,onClose:d,isOpen:l})]})}const Re=({pageSize:t})=>{const[a,n]=y.exports.useState(1),[r,l]=y.exports.useState([]),s=z(),d=Math.ceil(s.weeks.length/t),c=Math.ceil(s.weeks.length/t),u=Array.from(Array(d).keys()),h=m=>{const b=m.selected;n(b+1)};return y.exports.useEffect(()=>{const m=(a-1)*t,b=s.weeks.slice(m,m+t);l(b)},[s.weeks,a,t]),{currentPage:a,pageData:r,getPreviousPage:()=>{n(m=>Math.max(m-1,1))},getNextPage:()=>{n(m=>Math.min(m+1,c))},mapArray:u,handlePageClick:h,pageCount:d,getFirstPage:()=>{n(1)},getLastPage:()=>{n(c)}}};function Oe(t){return w({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 15v3.586a1 1 0 0 1 -1.707 .707l-6.586 -6.586a1 1 0 0 1 0 -1.414l6.586 -6.586a1 1 0 0 1 1.707 .707v3.586h3v6h-3z"}},{tag:"path",attr:{d:"M21 15v-6"}},{tag:"path",attr:{d:"M18 15v-6"}}]})(t)}function Ve(t){return w({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M20 15h-8v3.586a1 1 0 0 1 -1.707 .707l-6.586 -6.586a1 1 0 0 1 0 -1.414l6.586 -6.586a1 1 0 0 1 1.707 .707v3.586h8a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1z"}}]})(t)}function qe(t){return w({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 9v-3.586a1 1 0 0 1 1.707 -.707l6.586 6.586a1 1 0 0 1 0 1.414l-6.586 6.586a1 1 0 0 1 -1.707 -.707v-3.586h-3v-6h3z"}},{tag:"path",attr:{d:"M3 9v6"}},{tag:"path",attr:{d:"M6 9v6"}}]})(t)}function Qe(t){return w({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 9h8v-3.586a1 1 0 0 1 1.707 -.707l6.586 6.586a1 1 0 0 1 0 1.414l-6.586 6.586a1 1 0 0 1 -1.707 -.707v-3.586h-8a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1z"}}]})(t)}function Ye({itemsPerPage:t}){const{currentPage:a,pageData:n,getPreviousPage:r,getNextPage:l,mapArray:s,handlePageClick:d,pageCount:c,getFirstPage:u,getLastPage:h}=Re({pageSize:t}),f=y.exports.useCallback(o=>o===1||o===c||o>=a-2&&o<=a+2?!0:(o<a-2||o>a+2,!1),[a,c]);return i(v,{children:[n.map((o,g)=>e(E.div,{initial:{opacity:0,scale:0},animate:{opacity:.9,scale:[.8,1,1.2,1.4,1.2,1]},exit:{opacity:0},transition:{type:"spring",stiffness:90,delay:g*.2,damping:15},whileHover:{cursor:"pointer",opacity:1},children:e(V,{totalMiles:o.finalMiles,totalPay:o.totalPay,backhaul:o.backhaul,weekStart:Date.parse(o==null?void 0:o.weekStart).toString(),weekEnd:Date.parse(o==null?void 0:o.weekEnd).toString()})},o.weekStart)),e(A,{h:s.length<3?"30px":"20px",sx:{overflow:"hidden"}}),e(x,{children:i(Fe,{isAttached:!0,children:[s.length>0&&a>1?i(v,{children:[e(C,{icon:e(Oe,{}),variant:"outline",colorScheme:"cyan",onClick:u,_hover:{bg:"cyan.600",color:"white",scale:1.1},boxShadow:"lg",disabled:a===1,"aria-label":"First Page"}),e(C,{icon:e(Ve,{}),variant:"outline",colorScheme:"cyan",onClick:r,_hover:{bg:"cyan.600",color:"white",scale:1.1},boxShadow:"lg",disabled:a===1,"aria-label":"Previous Page"})]}):null,s.map((o,g)=>e(D,{colorScheme:"cyan",variant:a===g+1?"ghost":"outline",_hover:{bg:"cyan.600",color:"white",scale:1.1},boxShadow:"lg",onClick:()=>d({selected:g}),display:f(g+1)?"block":"none",children:g+1},o)),s.length>0&&a<c?i(v,{children:[e(C,{icon:e(Qe,{}),variant:"outline",colorScheme:"cyan",onClick:l,_hover:{bg:"cyan.600",color:"white",scale:1.1},boxShadow:"lg",disabled:a===c,"aria-label":"Next Page"}),e(C,{icon:e(qe,{}),variant:"outline",colorScheme:"cyan",onClick:h,_hover:{bg:"cyan.600",color:"white",scale:1.1},boxShadow:"lg",disabled:a===c,"aria-label":"First Page"})]}):null]})})]})}function pt(){const t=z(),a=S("white"," gray.800");return e(v,{children:e(y.exports.Suspense,{fallback:e("div",{children:e(X,{})}),children:e(he,{columns:[1,null,3],spacing:"10px",children:i(De,{children:[i(O,{w:"100%",h:"100%",bg:a,colSpan:2,p:"5",children:[e(I,{as:E.h1,fontSize:["4xl","4xl","5xl"],fontWeight:"extrabold",mt:"50px",ml:"20px",mb:"40px",textAlign:"center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},bgGradient:"linear(to-b, #42047e, #07f49e)",bgClip:"text",children:"Dashboard"}),e(Ge,{}),i(A,{w:"100%",h:"100%",bg:a,children:[t.weeks.length===0?e(ue,{mt:"30px",children:i(me,{fontSize:"lg",fontWeight:"extrabold",ml:"20px",children:[e(U,{as:ee,w:4,h:4})," Here is where you will see your weekly totals. To get started click the DailyForm button on top or go"," ",e(ge,{as:_,to:W.DAILY,color:"cyan.600",children:"here"})]})}):null,e(Ye,{itemsPerPage:4})]})]}),e(O,{w:"100%",h:"500px",bg:a,children:e(E.div,{initial:{opacity:0,y:100,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:100,delay:.5,damping:15,duration:.7},exit:{opacity:0},children:i(pe,{spacing:"10px",children:[i(x,{mt:"50px",children:[e(Be,{size:"2xl",my:"auto",mx:"200px",name:t.userEmail,src:t.avatar,children:e(Ne,{boxSize:"1.25em",bg:"cyan.700"})}),e(_e,{children:e(Ie,{src:t.avatar,referrerPolicy:"no-referrer",alt:"avatar"})})]}),e(ye,{orientation:"horizontal"}),e(x,{mt:"20px",overflow:"hidden",children:e(I,{as:"h3",fontSize:"xl",fontWeight:"extrabold",children:t.userEmail})}),e(x,{mt:"20px",children:e(D,{colorScheme:"cyan",variant:"outline",as:_,to:W.PROFILE,_hover:{bg:"cyan.600",color:"white",scale:1.1},rightIcon:e(Z,{}),boxShadow:"lg",children:"Edit Profile"})})]})})})]})})})})}export{pt as default};
//# sourceMappingURL=DashboardPage-d6f6c8b0.js.map
