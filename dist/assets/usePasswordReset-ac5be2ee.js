import{u as f,n as m,c as i,p as P,E as w,q as y,t as b}from"./firebase-0ba5c52c.js";import{r as n,g as h}from"./index-24a35cdf.js";import{y as u}from"./motion-cdcae086.js";const x=()=>{const[d,e]=n.exports.useState(""),[c,o]=n.exports.useState(!1),l=h(),s=f();return{error:d,loading:c,passwordResetEmail:async r=>{if(o(!0),!r){e("Please enter your email"),s({title:"Password reset failed",description:"Please enter your email",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}try{await m(i,r),s({title:"Password reset email sent, please check your inbox",status:"success",isClosable:!0,position:"top",duration:5e3,colorScheme:"cyan",variant:"solid"}),l(u.LOGIN)}catch(t){e(t.message),s({title:"Password reset failed",description:t.message,status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"})}finally{o(!1)}},confirmPassReset:async(r,t)=>{if(o(!0),!r){e("Please enter your code"),s({title:"Password reset failed",description:"Please enter your code",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}if(!t){e("Please enter your new password"),s({title:"Password reset failed",description:"Please enter your new password",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}if(t.length<6){e("Password must be at least 6 characters"),s({title:"Password reset failed",description:"Password must be at least 6 characters",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}try{await P(i,r,t),s({title:"Password reset successful",status:"success",isClosable:!0,position:"top",duration:5e3,colorScheme:"cyan",variant:"solid"}),l(u.LOGIN)}catch(a){e(a.message),s({title:"Password reset failed",description:a.message,status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"})}finally{o(!1)}},updatePass:async(r,t)=>{if(o(!0),!r){e("Please enter your new password"),s({title:"Password reset failed",description:"Please enter your new password",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}if(!t){e("Password must be at least 6 characters"),s({title:"Password reset failed",description:"Password must be at least 6 characters",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}try{const a=w.credential(i.currentUser.email,t);await y(i.currentUser,a);const p=await b(i.currentUser,r);console.log(p),s({title:"Password reset successful",status:"success",isClosable:!0,position:"top",duration:5e3,colorScheme:"cyan",variant:"solid"}),l("/login")}catch(a){e(a.message),s({title:"Password reset failed",description:a.message,status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"})}finally{o(!1)}}}};export{x as u};
//# sourceMappingURL=usePasswordReset-ac5be2ee.js.map
