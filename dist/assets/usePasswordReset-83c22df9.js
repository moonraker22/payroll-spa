import{u as w,n as y,c as u,p as b,E as g,q as h,t as v}from"./firebase-1cff0f71.js";import{r as f,E as C,v as d}from"./index.esm-5bedf466.js";import{f as c}from"./constants-4856e09f.js";const N=()=>{const[m,r]=f.exports.useState(""),[P,o]=f.exports.useState(!1),l=C(),s=w();return{error:m,loading:P,passwordResetEmail:async a=>{if(o(!0),!a){r("Please enter your email"),s({title:"Password reset failed",description:"Please enter your email",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}try{await y(u,a),s({title:"Password reset email sent, please check your inbox",status:"success",isClosable:!0,position:"top",duration:5e3,colorScheme:"cyan",variant:"solid"}),l(d.LOGIN)}catch(t){const e=c.get(t.code);r(e||t.message),s({title:"Password reset failed",description:e||t.message,status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"})}finally{o(!1)}},confirmPassReset:async(a,t)=>{if(o(!0),!a){r("Please enter your code"),s({title:"Password reset failed",description:"Please enter your code",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}if(!t){r("Please enter your new password"),s({title:"Password reset failed",description:"Please enter your new password",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}if(t.length<6){r("Password must be at least 6 characters"),s({title:"Password reset failed",description:"Password must be at least 6 characters",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}try{await b(u,a,t),s({title:"Password reset successful",status:"success",isClosable:!0,position:"top",duration:5e3,colorScheme:"cyan",variant:"solid"}),l(d.LOGIN)}catch(e){const i=c.get(e.code);r(i||e.message),s({title:"Password reset failed",description:i||e.message,status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"})}finally{o(!1)}},updatePass:async(a,t)=>{o(!0);const e=u.currentUser;if(!a){r("Please enter your new password"),s({title:"Password reset failed",description:"Please enter your new password",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}if(!t){r("Password must be at least 6 characters"),s({title:"Password reset failed",description:"Password must be at least 6 characters",status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"});return}if(e!=null&&e.email){const i=g.credential(e.email,t);try{await h(e,i),await v(e,a),s({title:"Password reset successful",status:"success",isClosable:!0,position:"top",duration:5e3,colorScheme:"cyan",variant:"solid"}),l(d.LOGIN)}catch(n){const p=c.get(n.code);r(p||n.message),s({title:"Password reset failed",description:p||n.message,status:"error",isClosable:!0,position:"top",duration:5e3,variant:"solid"})}finally{o(!1)}}}}};export{N as u};
//# sourceMappingURL=usePasswordReset-83c22df9.js.map
